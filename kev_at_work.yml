---
- hosts:
  - localhost
  become: yes
  become_method: sudo
  tasks:
    - name: install ansible hosts
      file:
        src: ansible_hosts
        dest: /etc/ansible/hosts
    - name: put kiosk in ssh config
      become: no
      blockinfile:
        path: ~/.ssh/config
        block: |
          Host kiosk
          HostName 192.168.128.208
          User livelink
        marker: "# {mark} My kiosk"
        state: present
    - name: ll bashrc config
      become: no
      blockinfile:
        path: ~/.bashrc
        block: |
          export KIOSK_ID=71146
          export KIOSK_PASSWORD=livelink380
          source '/home/kev/Code/physical-kiosk/dev-tools/load-devtools'
        marker: "# {mark} Livelink Config"
        state: present
    - name: create code directory
      become: no
      file:
        dest: ~/Code
        state: directory
    - name: clone physical-kiosk repo
      become: no
      git:
        repo: git@github.com:livelink/physical-kiosk.git
        dest: ~/Code/physical-kiosk
      ignore_errors: yes
      state: present
